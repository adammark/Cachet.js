/*
  Cachet.js v1.0.1: http://github.com/adammark/Cachet.js
  MIT License
  (c) 2013 Adam Mark
*/
(function(){var a={},b="cachet_expiry",c;c={isSupported:function(){try{localStorage.setItem("_test_","_test_");localStorage.removeItem("_test_");return true}catch(d){return false}},setItem:function(f,h,d){var i=localStorage;if(h===undefined){return false}try{if(d){if(d==="session"){i=sessionStorage}else{if(typeof d==="number"){d=new Date(Date.now()+(d*60000))}a[f]=d;i.setItem(b,JSON.stringify(a))}}i.setItem(f,JSON.stringify(h));return true}catch(g){console.warn(g);return false}},setItems:function(e,d){var g=true,f;for(f in e){if(e.hasOwnProperty(f)){g=g&&c.setItem(f,e[f],d)}}return g},getItem:function(d){var e=localStorage.getItem(d);if(e===null){e=sessionStorage.getItem(d)}if(e!==null){if(!a[d]||a[d]>new Date()){return JSON.parse(e)}}return undefined},getItems:function(f){var d={},e;for(e=0;e<f.length;e++){d[f[e]]=c.getItem(f[e])}return d},removeItem:function(d){var e=d in localStorage;localStorage.removeItem(d);if(a[d]){delete a[d];localStorage.setItem(b,JSON.stringify(a))}return e},removeItems:function(e){var f=true,d;for(d=0;d<e.length;d++){f=f&&c.removeItem(e[d])}return f},plus:function(d,f){var e=(c.getItem(d)||0)+(f||1);if(c.setItem(d,e)){return e}},minus:function(d,f){var e=(c.getItem(d)||0)-(f||1);if(c.setItem(d,e)){return e}},purge:function(){var d=new Date(),e;for(e in a){if(new Date(a[e])<d){c.removeItem(e)}}}};a=c.getItem(b)||{};window.Cachet=c;if(typeof module!=="undefined"&&module.exports){module.exports=c}else{if(typeof define!=="undefined"){define(function(){return c})}}}());